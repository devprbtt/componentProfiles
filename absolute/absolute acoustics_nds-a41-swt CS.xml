<?xml version="1.0" encoding="UTF-8"?>
<component xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="racepoint_component_profile.xsd" manufacturer="Absolute" model="NDS-A41-SWT CS" alias="Absolute Nexos 4x1 HDMI Switch, NDS-A41-SWT" device_class="AV_switch" minimum_component_engine_version="0.0" rpm_xml_version="$Revision: 3.1 $">
    <notes>
        This product is a 4x1 HDMI switch. Compatible with all Absolute Nexos HDMI devices.
        
        Cable Pin-Out:
        RJ-45       A41
          4          G
          5          Tx
          6          Rx
    </notes>
    <control_interfaces preferred="rs232">
        <ir ir_command_format_type="racepointmedia"/>
        <rs232 name_on_component="RS232" data_length="8" parity_bit="no" stop_bit="1" flow_control="none" preferred_baud_rate="9600" connector_type="rs232 other" cable_type="rs232 straight" response_time_length_ms="500">
            <baud_rate speed="9600"/>
            <send_postfix type="hex">0D0A</send_postfix>
            <receive_end_condition test_condition="data" type="hex">0D0A</receive_end_condition>
        </rs232>
    </control_interfaces>
    <media_interfaces>
        <input name_on_component="HDMI IN 1">
            <combined_media>
                <audio_media type="hdmi_audio"/>
                <video_media type="hdmi"/>
            </combined_media>
            <resource resource_type="AV_AUDIOSWITCH_FUNCTION"/>
            <resource resource_type="AV_VIDEOSWITCH_FUNCTION"/>
        </input>
        <input name_on_component="HDMI IN 2">
            <combined_media>
                <audio_media type="hdmi_audio"/>
                <video_media type="hdmi"/>
            </combined_media>
            <resource resource_type="AV_AUDIOSWITCH_FUNCTION"/>
            <resource resource_type="AV_VIDEOSWITCH_FUNCTION"/>
        </input>
        <input name_on_component="HDMI IN 3">
            <combined_media>
                <audio_media type="hdmi_audio"/>
                <video_media type="hdmi"/>
            </combined_media>
            <resource resource_type="AV_AUDIOSWITCH_FUNCTION"/>
            <resource resource_type="AV_VIDEOSWITCH_FUNCTION"/>
        </input>
        <input name_on_component="HDMI IN 4">
            <combined_media>
                <audio_media type="hdmi_audio"/>
                <video_media type="hdmi"/>
            </combined_media>
            <resource resource_type="AV_AUDIOSWITCH_FUNCTION"/>
            <resource resource_type="AV_VIDEOSWITCH_FUNCTION"/>
        </input>
        <output name_on_component="HDMI OUT">
            <combined_media>
                <audio_media type="hdmi_audio"/>
                <video_media type="hdmi"/>
            </combined_media>
        </output>
        <output name_on_component="HDMI OUT 2">
            <combined_media>
                <audio_media type="hdmi_audio"/>
                <video_media type="hdmi"/>
            </combined_media>
        </output>
    </media_interfaces>
    <state_variable_list>
        <state_variable name="Power_current_power_main" min_value="0" max_value="1">0</state_variable>
    </state_variable_list>
    <logical_component logical_component_name="AV_switch">
        <implementation>
            <input name_on_component="HDMI IN 2">
                <action_to_select name="SelectInput2"/>
            </input>
            <output name_on_component="HDMI OUT"/>
        </implementation>
        <implementation>
            <input name_on_component="HDMI IN 3">
                <action_to_select name="SelectInput3"/>
            </input>
            <output name_on_component="HDMI OUT"/>
        </implementation>
        <implementation>
            <input name_on_component="HDMI IN 4">
                <action_to_select name="SelectInput4"/>
            </input>
            <output name_on_component="HDMI OUT"/>
        </implementation>
        <status_messages>
            <status_message name="CurrentInputStatus">
                <data type="character" constant_length="10">
                    <data_map match_required="yes">
                        <map key="AV: 1 -> 1">
                            <update state="CurrentInput" type="string">Input1</update>
                        </map>
                        <map key="AV: 2 -> 1">
                            <update state="CurrentInput" type="string">Input2</update>
                        </map>
                        <map key="AV: 3 -> 1">
                            <update state="CurrentInput" type="string">Input3</update>
                        </map>
                        <map key="AV: 4 -> 1">
                            <update state="CurrentInput" type="string">Input4</update>
                        </map>
                    </data_map>
                </data>
            </status_message>
        </status_messages>
        <universal_component_actions>
            <action name="PowerOn">
                <execute_on_state_variable_condition name="Power_current_power_main" test_condition="not_equal">1</execute_on_state_variable_condition>
                <update_state_variable name="Power_current_power_main" update_type="set" update_source="constant">1</update_state_variable>
                <command_interface interface="rs232">
                    <command response_required="no">
                        <command_string type="character">0B1.</command_string>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
            </action>
            <action name="PowerOff">
                <update_state_variable name="Power_current_power_main" update_type="set" update_source="constant">0</update_state_variable>                
                <command_interface interface="rs232">
                    <command response_required="no">
                        <command_string type="character">0B0.</command_string>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
            </action>
        </universal_component_actions>
        <custom_component_actions>
            <action name="SelectInput1">
                <command_interface interface="rs232">
                    <command response_required="no">
                        <command_string type="character">1B1.</command_string>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
                <command_interface interface="ir">
                    <command response_required="no">
                        <command_string type="hex">000000000000948c015500AC0015001500150015001500150015001500150015001500150015004000150015001500400015004000150040001500400015004000150040001500400015004000150015001500150015004000150015001500150015001500150015001500150015004000150040001500150015004000150040001500400015004000150040001505C200000000</command_string>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
            </action>
            <action name="SelectInput2">
                <command_interface interface="rs232">
                    <command response_required="no">
                        <command_string type="character">2B1.</command_string>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
                <command_interface interface="ir">
                    <command response_required="no">
                        <command_string type="hex">000000000000948c015600AB0015001500150015001500150015001500150015001500150015004000150015001500400015004000150040001500400015004000150040001500400015004000150015001500400015004000150015001500150015001500150040001500150015004000150015001500150015004000150040001500400015001500150040001505C200000000</command_string>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
            </action>
            <action name="SelectInput3">
                <command_interface interface="rs232">
                    <command response_required="no">
                        <command_string type="character">3B1.</command_string>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
                <command_interface interface="ir">
                    <command response_required="no">
                        <command_string type="hex">000000000000948c015600AB0015001500150015001500150015001500150015001500150015004000150015001500400015004000150040001500400015004000150040001500400015004000150040001500400015004000150015001500150015001500150040001500150015001500150015001500150015004000150040001500400015001500150040001505C100000000</command_string>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
            </action>
            <action name="SelectInput4">
                <command_interface interface="rs232">
                    <command response_required="no">
                        <command_string type="character">4B1.</command_string>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
                <command_interface interface="ir">
                    <command response_required="no">
                        <command_string type="hex">000000000000948c015500AC0015001500150015001500150015001500150015001500150015004000150015001500400015004000150040001500400015004000150040001500400015004000150040001500400015001500150015001500150015001500150040001500150015001500150015001500400015004000150040001500400015001500150040001505C200000000</command_string>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
            </action>
            <action name="Refresh">
                <command_interface interface="rs232">
                    <command response_required="no">
                        <command_string type="character">600%</command_string>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
            </action>            
        </custom_component_actions>
    </logical_component>
    <logical_component logical_component_name="AV_switch_2">
        <implementation>
            <input name_on_component="HDMI IN 1">
                <action_to_select name="SelectInput1"/>
            </input>
            <output name_on_component="HDMI OUT 2"/>
        </implementation>
        <implementation>
            <input name_on_component="HDMI IN 2">
                <action_to_select name="SelectInput2"/>
            </input>
            <output name_on_component="HDMI OUT 2"/>
        </implementation>
        <implementation>
            <input name_on_component="HDMI IN 3">
                <action_to_select name="SelectInput3"/>
            </input>
            <output name_on_component="HDMI OUT 2"/>
        </implementation>
        <implementation>
            <input name_on_component="HDMI IN 4">
                <action_to_select name="SelectInput4"/>
            </input>
            <output name_on_component="HDMI OUT 2"/>
        </implementation>
        <status_messages>
            <status_message name="CurrentInputStatus">
                <data type="character" constant_length="10">
                    <data_map match_required="yes">
                        <map key="AV: 1 -> 1">
                            <update state="CurrentInput" type="string">Input1</update>
                        </map>
                        <map key="AV: 2 -> 1">
                            <update state="CurrentInput" type="string">Input2</update>
                        </map>
                        <map key="AV: 3 -> 1">
                            <update state="CurrentInput" type="string">Input3</update>
                        </map>
                        <map key="AV: 4 -> 1">
                            <update state="CurrentInput" type="string">Input4</update>
                        </map>
                    </data_map>
                </data>
            </status_message>
        </status_messages>
        <universal_component_actions>
            <action name="PowerOn">
                <execute_on_state_variable_condition name="Power_current_power_main" test_condition="not_equal">1</execute_on_state_variable_condition>
                <update_state_variable name="Power_current_power_main" update_type="set" update_source="constant">1</update_state_variable>
                <command_interface interface="rs232">
                    <command response_required="no">
                        <command_string type="character">0B1.</command_string>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
            </action>
            <action name="PowerOff">
                <update_state_variable name="Power_current_power_main" update_type="set" update_source="constant">0</update_state_variable>                
                <command_interface interface="rs232">
                    <command response_required="no">
                        <command_string type="character">0B0.</command_string>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
            </action>
        </universal_component_actions>
        <custom_component_actions>
            <action name="SelectInput1">
                <command_interface interface="rs232">
                    <command response_required="no">
                        <command_string type="character">1B1.</command_string>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
                <command_interface interface="ir">
                    <command response_required="no">
                        <command_string type="hex">000000000000948c015500AC0015001500150015001500150015001500150015001500150015004000150015001500400015004000150040001500400015004000150040001500400015004000150015001500150015004000150015001500150015001500150015001500150015004000150040001500150015004000150040001500400015004000150040001505C200000000</command_string>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
            </action>
            <action name="SelectInput2">
                <command_interface interface="rs232">
                    <command response_required="no">
                        <command_string type="character">2B1.</command_string>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
                <command_interface interface="ir">
                    <command response_required="no">
                        <command_string type="hex">000000000000948c015600AB0015001500150015001500150015001500150015001500150015004000150015001500400015004000150040001500400015004000150040001500400015004000150015001500400015004000150015001500150015001500150040001500150015004000150015001500150015004000150040001500400015001500150040001505C200000000</command_string>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
            </action>
            <action name="SelectInput3">
                <command_interface interface="rs232">
                    <command response_required="no">
                        <command_string type="character">3B1.</command_string>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
                <command_interface interface="ir">
                    <command response_required="no">
                        <command_string type="hex">000000000000948c015600AB0015001500150015001500150015001500150015001500150015004000150015001500400015004000150040001500400015004000150040001500400015004000150040001500400015004000150015001500150015001500150040001500150015001500150015001500150015004000150040001500400015001500150040001505C100000000</command_string>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
            </action>
            <action name="SelectInput4">
                <command_interface interface="rs232">
                    <command response_required="no">
                        <command_string type="character">4B1.</command_string>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
                <command_interface interface="ir">
                    <command response_required="no">
                        <command_string type="hex">000000000000948c015500AC0015001500150015001500150015001500150015001500150015004000150015001500400015004000150040001500400015004000150040001500400015004000150040001500400015001500150015001500150015001500150040001500150015001500150015001500400015004000150040001500400015001500150040001505C200000000</command_string>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
            </action>
            <action name="Refresh">
                <command_interface interface="rs232">
                    <command response_required="no">
                        <command_string type="character">600%</command_string>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
            </action>            
        </custom_component_actions>
    </logical_component>
</component>
